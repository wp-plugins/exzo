<?php require_once('PelEntry.php'); class PelEntryAscii extends PelEntry { private $str; function __construct($tag, $str = '') { $this->tag = $tag; $this->format = PelFormat::ASCII; $this->setValue($str); } function setValue($str) { $this->components = strlen($str)+1; $this->str = $str; $this->bytes = $str . chr(0x00); } function getValue() { return $this->str; } function getText($brief = false) { return $this->str; } } class PelEntryTime extends PelEntryAscii { const UNIX_TIMESTAMP = 1; const EXIF_STRING = 2; const JULIAN_DAY_COUNT = 3; private $day_count; private $seconds; function __construct($tag, $timestamp, $type = self::UNIX_TIMESTAMP) { parent::__construct($tag); $this->setValue($timestamp, $type); } function getValue($type = self::UNIX_TIMESTAMP) { } function setValue($timestamp, $type = self::UNIX_TIMESTAMP) { parent::setValue($this->getValue(self::EXIF_STRING)); } } class PelEntryCopyright extends PelEntryAscii { private $photographer; private $editor; function __construct($photographer = '', $editor = '') { parent::__construct(PelTag::COPYRIGHT); $this->setValue($photographer, $editor); } function setValue($photographer = '', $editor = '') { $this->photographer = $photographer; $this->editor = $editor; if ($photographer == '' && $editor != '') $photographer = ' '; if ($editor == '') parent::setValue($photographer); else parent::setValue($photographer . chr(0x00) . $editor); } function getValue() { return array($this->photographer, $this->editor); } function getText($brief = false) { if ($brief) { $p = ''; $e = ''; } else { $p = ' ' . Pel::tra('(Photographer)'); $e = ' ' . Pel::tra('(Editor)'); } if ($this->photographer != '' && $this->editor != '') return $this->photographer . $p . ' - ' . $this->editor . $e; if ($this->photographer != '') return $this->photographer . $p; if ($this->editor != '') return $this->editor . $e; return ''; } } ?>